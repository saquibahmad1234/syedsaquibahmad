---
layout: default
---

<article class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>

    {% if page.date %}
      <p class="post-meta">
        {{ page.date | date: "%B %Y" }}
        {% if page.reading_time %}
          · {{ page.reading_time }} min read
        {% endif %}
      </p>
    {% endif %}
  </header>

  <div class="post-content">
    {{ content }}
  </div>

  {% comment %}
  ============================
  Category-scoped navigation
  ============================
  {% endcomment %}

  {% assign current_category = page.categories[0] %}
  {% assign category_posts = site.posts | where_exp:"post","post.categories contains current_category" %}

  {% for post in category_posts %}
    {% if post.url == page.url %}
      {% assign index = forloop.index0 %}
    {% endif %}
  {% endfor %}

  {% assign previous_post = category_posts[index | minus: 1] %}
  {% assign next_post = category_posts[index | plus: 1] %}

  <div class="post-navigation">

    {% comment %} Back link {% endcomment %}
    <a class="nav-button back" href="/{{ current_category }}/">
      ← Back to
      {% if current_category == "blogs" %}Writing{% endif %}
      {% if current_category == "taxation" %}Taxation{% endif %}
      {% if current_category == "personal-finance" %}Personal Finance{% endif %}
      {% if current_category == "books" %}Books{% endif %}
    </a>

    {% if previous_post %}
      <a class="nav-button prev" href="{{ previous_post.url }}">
        ← {{ previous_post.title }}
      </a>
    {% endif %}

    {% if next_post %}
      <a class="nav-button next" href="{{ next_post.url }}">
        {{ next_post.title }} →
      </a>
    {% endif %}

  </div>

</article>
